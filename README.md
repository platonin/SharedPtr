# SharedPtr

## Описание

`SharedPtr` — это реализация умного указателя в стиле C++, который управляет динамически выделяемым ресурсом и автоматически освобождает память, когда объект больше не используется. Основная цель `SharedPtr`— безопасное управление ресурсом через механизм подсчета ссылок. Объект может быть скопирован, присвоен или передан по значению, и будет удален только тогда, когда больше ни одна ссылка на него не существует.

## Основные функции

- **Конструкторы:**
    - `SharedPtr()` — создает пустой указатель.
    - `SharedPtr(T *ptr)` — создает `SharedPtr` с передачей указателя `ptr` на объект типа `T`.
    - Конструктор копирования и перемещения для обеспечения копирования и перемещения `SharedPtr`.
- **Оператор присваивания:**
    - Поддержка копирующего и перемещающего оператора присваивания для корректного переноса управления.
- **Деструктор**: Уменьшает счетчик ссылок и освобождает ресурс, когда счетчик ссылок достигает нуля.
    
- **Основные методы**:
    - `Reset(T *ptr = nullptr)` — сбрасывает `SharedPtr`, освобождая текущий ресурс и устанавливая новый указатель `ptr`.
    - `Get()` — возвращает необработанный указатель на управляемый объект.
    - `UseCount()` — возвращает текущее количество ссылок на объект.
    - `Swap(SharedPtr &new_ptr)` — меняет местами два указателя `SharedPtr`.
- **Операторы разыменования**:
    - `operator*()` и `operator->()` — предоставляют доступ к управляемому объекту.
    - `operator bool()` — позволяет проверить, указывает ли `SharedPtr` на объект.

## Пример использования

```cpp
#include <iostream>
#include "shared_ptr.h"

int main() {
    SharedPtr<int> sp1(new int(111));
    std::cout << "UseCount: " << sp1.UseCount() << std::endl;

    {
        SharedPtr<int> sp2 = sp1;
        std::cout << "UseCount после копирования: " << sp1.UseCount() << std::endl;
        std::cout << "Значение через sp2: " << *sp2 << std::endl;
    }

    std::cout << "UseCount после выхода из области видимости: " << sp1.UseCount() << std::endl;

    sp1.Reset(new int(222));
    std::cout << "UseCount после Reset: " << sp1.UseCount() << std::endl;
    std::cout << "Новое значение: " << *sp1 << std::endl;

    return 0;
}
```
**Вывод:**
```
UseCount: 1
UseCount после копирования: 2
Значение через sp2: 111
UseCount после выхода из области видимости: 1
UseCount после Reset: 1
Новое значение: 222
```
